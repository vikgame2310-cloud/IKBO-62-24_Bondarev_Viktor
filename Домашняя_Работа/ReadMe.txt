1. Чтение входного файла:
   - путь к файлу передаётся через аргумент командной строки:  
     "python ucfg2toml.py input.ucfg"

2. Удаление комментариев:
   - однострочные: "|| комментарий до конца строки"
   - многострочные: "--[[ ... ]]"

3. Поддержка чисел:
   - формат чисел соответствует шаблону варианта 5:  
     "-?(\d+|\d+\.\d*|\.\d+)([eE][-+]?\d+)?"
   - примеры: "10", "3.14", "2.", ".5", "1e3", "-1e3", "-.5E+2"

4. Поддержка значений:
   - числа;
   - массивы: "{ значение, значение, ... }";
   - словари:
     ```text
     "begin"
         имя := значение;
         ...
     "end"
     ```

5. Глобальные константы (на этапе трансляции):
   - объявление: "global имя = значение"
   - использование: "!(имя)"
   - константы вычисляются при разборе и могут использоваться в последующих значениях.

6. Генерация TOML:
   - результат конфигурации (корневой "begin ... end") преобразуется в структуру `TOML` и выводится в "stdout";
   - словари превращаются в таблицы "[section]", массивы — в "[ ... ]", скаляры — в "ключ = значение".

7. Обработка ошибок:
   - при синтаксической ошибке выбрасывается ошибка с указанием позиции;
   - сообщение выводится в "stderr" в формате "Синтаксическая ошибка: ..." и программа завершает работу с кодом "1.

---

Запуск

Обычный запуск (преобразование конфигурации в TOML):

- "python ucfg2toml.py input.ucfg"

где "input.ucfg" — путь к файлу с учебной конфигурацией.

Результат в формате "TOML" выводится в стандартный вывод ("stdout").

---

Режим тестирования

Для запуска встроенных тестов:

- "python ucfg2toml.py --test"

В этом режиме выполняются юнит-тесты, которые проверяют:

- числа и массивы;
- словари и вложенные словари;
- глобальные константы и их использование "!(имя)";
- удаление однострочных и многострочных комментариев;
- обработку ошибки при неизвестной константе;
- работу со строками "...";
- глубокую вложенность (словари в массивах, массивы в массивах и т.д.).

---

Примеры конфигураций

В коде также приведены 3 примера конфигураций (как строки):

- "EXAMPLE_SERVER" — пример конфигурации сервера/сети;
- "EXAMPLE_GAME" — пример конфигурации персонажа/игры;
- "EXAMPLE_FINANCE" — пример конфигурации зарплаты/налогов и периодов по месяцам.

Их можно вынести в отдельные `.ucfg`-файлы и прогнать через утилиту, используя команду "python ucfg2toml.py файл.ucfg".