В проекте реализованы ассемблер и виртуальная машина по варианту №5. Ассемблер читает программу в формате YAML и превращает каждую команду в поля A, B, C, как указано в спецификации. После этого он упаковывает поля в машинные байты и записывает результат в файл out.bin. В режиме --test выводятся сами поля и все сформированные байты.

Интерпретатор (vm.py) загружает бинарный файл в общую память виртуальной машины, где первые байты — это код, а остальное пространство используется как область данных. Далее интерпретатор идёт по памяти, декодирует команды, выделяет из них A, B и C и выполняет их. Поддерживаются команды LOAD_CONST, LOAD, STORE и ROR. После выполнения программа сохраняет указанный диапазон памяти в JSON-файл, чтобы можно было проверить результат работы.

Команды для запуска:

Ассемблер:

python assembler.py program.yaml out.bin


Тестовый режим:

python assembler.py program.yaml out.bin --test


Интерпретатор:

python vm.py out.bin dump.json start_addr end_addr


Здесь start_addr и end_addr — это диапазон ячеек памяти, который нужно сохранить в дамп. Всё работает в одной общей памяти, поэтому выполнения команды можно проверить по содержимому JSON-файла.